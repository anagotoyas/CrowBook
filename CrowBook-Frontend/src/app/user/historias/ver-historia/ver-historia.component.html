<section class="historia-sec">
  <div class="container">
    <mat-card class="example-card"  *ngIf="dataSource">
      <div class="left-column">
        <img mat-card-lg-image src="https://i.ibb.co/yXXX4v8/Group-165.png" >
      </div>
      <div class="right-column">
        <mat-card-title-group >
          <mat-card-title id="title-historia">{{dataSource.nombreHistoria}}
            <h4>Escrito por <a href="#" style="font-weight: bold; display: inline-block; margin-top: 5px; margin-bottom: 0px; color: #000; font-family: Signika;">{{user.nombreUsuario}}</a></h4>
          </mat-card-title>
      
          <mat-card-subtitle>
              {{dataSource.descripcionHistoria}}
            </mat-card-subtitle>
        </mat-card-title-group>
        
        <div class="example-button-row" >
          <button mat-raised-button >Donar</button>  
          <button mat-icon-button color="primary">
            <mat-icon (click)="agregarBiblioteca()" >library_add</mat-icon>
          </button>
          &nbsp;&nbsp;
          <button mat-icon-button color="primary">
            <mat-icon (click)="agregarFavorito()" >favorite</mat-icon>
          </button>
        </div>
        <BR>
        <mat-card-content>
          <mat-chip-list aria-label="Fish selection">
          <mat-chip>
            {{nombreCategoria.nombreCategoria}}
          </mat-chip>
          </mat-chip-list>
        </mat-card-content>
      </div>

      <div class="capitulos-column">

        <table
          mat-table
          [dataSource]="dataSource2"
          matSort
          class="mat-elevation-z0"
        >
          <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef>ID</th>
              <td mat-cell *matCellDef="let element"> {{element.idCapitulo}} </td>
          </ng-container>

          <ng-container matColumnDef="nombre">
              <th mat-header-cell *matHeaderCellDef>Nombre Capitulo</th>
              <td mat-cell *matCellDef="let element"> {{element.nombreCapitulo}} </td>
          </ng-container>
          <ng-container matColumnDef="visualizar">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Ver contenido</th>
            <td mat-cell *matCellDef="let element">
              <button mat-button routerLink="/user/capitulos/{{user.idUsuario}}/cargar/{{element.idCapitulo}}"><mat-icon>visibility</mat-icon></button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </mat-card>
  </div>
</section>
  
<mat-selection-list [multiple]="false" *ngFor="let element of capitulo; let i = index" >
  <mat-list-option >
    {{capitulo.nombreCapitulo}}
  </mat-list-option>
</mat-selection-list>

<section class="section-resena">
  <div class="crear-resena">
    <div class="fila">
      <div class="columna-1">
        <h1>Reseñas del libro:</h1>
      </div>
      <div class="columna-2">
        <button mat-raised-button class="resena-button" color="primary" [routerLink]="['crear-resena']">Crear Reseña</button>
      </div>
    </div>
  
    <ul class="list-group">
    <li class="list-group-item" *ngFor="let comentario of listaResenas" [value]="comentario">
      {{comentario.comentarioResena}}
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button class="btn btn-secondary" type="button"   [routerLink]="['modificar', comentario.idResena]">Modificar</button> &nbsp;&nbsp;
        <button class="btn btn-secondary" type="button" (click)="deleteResena(comentario.idResena)" >Eliminar</button>
      </div> 
    </li>
    </ul>
  </div>
</section>

